!function(){"use strict"
  function o(o){function e(){return o.get("bookmarkHM")}function r(e){var r=m.getBookmarkHM()
    r&&o.remove("bookmarkHM"),o.set("bookmarkHM",e)}function t(){return o.get("folderHM")}function a(e){var r=m.getFolderHM()
    r&&o.remove("folderHM"),o.set("folderHM",e)}function k(){return o.get("folders")}function l(e){var r=m.getFolders()
    r&&o.remove("folders"),o.set("folders",e)}function s(e){if(o.isSupported){var r=m.getBookmarkHM(),t=m.getFolderHM(),a=m.getFolders(),k=r[e.title],l=k&&k.folder?k.folder===e.folder:!1
    if(l)m.deleteBookmark(k),m.addBookmark(e)
    else if(d(e.folder)){for(var s=t[e.folder],i=0;i<s.bookmarks.length;i++){var f=s.bookmarks[i]
      f.title===e.title&&(s.bookmarks.splice(i,1),s.bookmarks.push(e))}for(var i=0;i<a.length;i++)if(s.name===e.folder){s=a[i]
      break}for(var i=0;i<s.bookmarks.length;i++){var f=s.bookmarks[i]
      f.title===e.title&&(s.bookmarks.splice(i,1),s.bookmarks.push(e))}}r[e.title]=e,m.setBookmarkHM(r),m.setFolderHM(t),m.setFolders(a)}}function i(e){if(o.isSupported){var r=m.getBookmarkHM(),t=m.getFolderHM(),a=m.getFolders()
    if(r[e.title]=e,d(e.folder)){var k=t[e.folder]
      k.bookmarks.push(e)}var l=t.all
    l.bookmarks.push(e),r[e.title]=e,m.setBookmarkHM(r),m.setFolderHM(t),m.setFolders(a)}}function f(e){if(o.isSupported){var r=m.getBookmarkHM(),t=m.getFolderHM(),a=m.getFolders()
    if(r[e.title]=null,d(e.folder)){for(var k=t[e.folder],l=0;l<k.bookmarks.length;l++){var s=k.bookmarks[l]
      if(s.title===e.title){k.bookmarks.splice(l,1)
        break}}for(var l=0;l<a.length;l++)if(a.name===e.folder){k=a[l]
      break}for(var l=0;l<k.bookmarks.length;l++){var s=k.bookmarks[l]
      if(s.title===e.title){k.bookmarks.splice(l,1)
        break}}}for(var i=t.all,l=0;l<i.bookmarks.length;l++){var s=i.bookmarks[l]
      if(s.title===e.title){i.bookmarks.splice(l,1)
        break}}for(var f,l=0;l<a.length;l++)if("all"===a[l].name){f=a[l]
      break}for(var l=0;l<f.bookmarks.length;l++){var s=f.bookmarks[l]
      if(s.title===e.title){f.bookmarks.splice(l,1)
        break}}m.setBookmarkHM(r),m.setFolderHM(t),m.setFolders(a)}}function d(o){return""!=o&&"all"!=o&&"No Move"!=o}var m=this
    return m.getBookmarkHM=e,m.setBookmarkHM=r,m.getFolderHM=t,m.setFolderHM=a,m.getFolders=k,m.setFolders=l,m.addBookmark=i,m.deleteBookmark=f,m.updateBookmark=s,m}angular.module("app").factory("StorageService",o),o.$inject=["localStorageService"]}()
